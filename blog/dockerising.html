<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Part 3 - Dockerising Test Suite | The Future Tests Itself!</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://harryvn.github.io/automatiq/blog/dockerising"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Part 3 - Dockerising Test Suite | The Future Tests Itself!"><meta data-rh="true" name="description" content="A Comprehensive Guide to Containerising Your Testing Framework"><meta data-rh="true" property="og:description" content="A Comprehensive Guide to Containerising Your Testing Framework"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-12-23T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/harryvn"><meta data-rh="true" property="article:tag" content="Selenium,Java,TestNG,Maven,Docker,OpenJDK"><link data-rh="true" rel="icon" type="image/x-icon" href="/automatiq/img/favicon.ico"><link data-rh="true" rel="icon" href="/automatiq/img/favicon.png"><link data-rh="true" rel="canonical" href="https://harryvn.github.io/automatiq/blog/dockerising"><link data-rh="true" rel="alternate" href="https://harryvn.github.io/automatiq/blog/dockerising" hreflang="en"><link data-rh="true" rel="alternate" href="https://harryvn.github.io/automatiq/blog/dockerising" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://S8856LCS2R-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://harryvn.github.io/automatiq/blog/dockerising","mainEntityOfPage":"https://harryvn.github.io/automatiq/blog/dockerising","url":"https://harryvn.github.io/automatiq/blog/dockerising","headline":"Part 3 - Dockerising Test Suite","name":"Part 3 - Dockerising Test Suite","description":"A Comprehensive Guide to Containerising Your Testing Framework","datePublished":"2024-12-23T00:00:00.000Z","author":{"@type":"Person","name":"Hari Nair","description":"Test Architect","url":"https://github.com/harryvn","image":"https://github.com/harryvn.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://harryvn.github.io/automatiq/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/automatiq/blog/rss.xml" title="The Future Tests Itself! RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/automatiq/blog/atom.xml" title="The Future Tests Itself! Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="The Future Tests Itself!" href="/automatiq/opensearch.xml">

<meta name="algolia-site-verification" content="99989CE22EFC1909"><link rel="stylesheet" href="/automatiq/assets/css/styles.f4250890.css">
<script src="/automatiq/assets/js/runtime~main.67b248fe.js" defer="defer"></script>
<script src="/automatiq/assets/js/main.bbe348b0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/automatiq/img/logo.svg"><link rel="preload" as="image" href="https://github.com/harryvn.png"><link rel="preload" as="image" href="/automatiq/assets/images/build-4d8c02984068e6e33d25e510369a5888.avif"><link rel="preload" as="image" href="/automatiq/assets/images/docker-image-0f273340e8afd8ad27569dc975c23494.avif"><link rel="preload" as="image" href="/automatiq/assets/images/docker-container-5cdd676ddd6bd09742f23111057beca7.avif"><link rel="preload" as="image" href="/automatiq/assets/images/live-preview-37c039de211d4affb5fd3552b1cf1713.avif"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">If you like this initiative, give it a ⭐ on <a target="_blank" rel="noopener noreferrer" href="https://github.com/harryvn/automatiq-docs">GitHub</a>!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/automatiq/"><div class="navbar__logo"><img src="/automatiq/img/logo.svg" alt="" class="navbar-logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/automatiq/img/logo.svg" alt="" class="navbar-logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AutoMatiQ</b></a><a class="navbar__item navbar__link" href="/automatiq/projects">Showcase</a><a class="navbar__item navbar__link" href="/automatiq/docs/welcome">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/automatiq/blog">Blogs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/harryvn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><a href="https://www.linkedin.com/in/harryvn/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link" aria-label="LinkedIn"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/automatiq/blog/dockerising">Part 3 - Dockerising Test Suite</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/automatiq/blog/packaging">Part 2 - Packaging Framework</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/automatiq/blog/selenium-framework-java">Part 1 - Selenium Automation Framework in Java</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2022</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/automatiq/blog/docker">Part 3 - Docker Implementation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/automatiq/blog/pm2">Part 2 - PM2 Implementation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/automatiq/blog/selenium-framework-javascript">Part 1 - Minimal Automation Framework in JavaScript</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Part 3 - Dockerising Test Suite</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-12-23T00:00:00.000Z">December 23, 2024</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link" href="/automatiq/blog/authors/harryvn"><img class="avatar__photo authorImage_XqGP" src="https://github.com/harryvn.png" alt="Hari Nair"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="/automatiq/blog/authors/harryvn"><span class="authorName_yefp">Hari Nair</span></a></div><small class="authorTitle_nd0D" title="Test Architect">Test Architect</small><div class="authorSocials_rSDt"><a href="https://github.com/harryvn" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a><a href="https://www.linkedin.com/in/harryvn/" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid" viewBox="0 0 256 256" class="authorSocialLink_owbf"><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453" fill="#0A66C2"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>A Comprehensive Guide to Containerising Your Testing Framework</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>In the previous <a href="/automatiq/blog/packaging">article</a>, we updated few files for packaging the project artefacts to <code>JAR</code> files.</p>
<p>In this article, we will add the ability to run the tests in a containerised environment using <code>Docker</code>.</p>
<p>While there are several approaches to containerise the tests using <code>Docker</code>, we will be using the <code>Dockerfile</code> approach for our project.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>Before leveraging the extensive capabilities of <code>Docker</code> &amp; <code>Dockerfile</code>, let&#x27;s ensure we have it set up properly. Follow the official documentation <a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener noreferrer">here</a> to install Docker according to your operating system. The primary goal is to showcase Docker&#x27;s versatility without delving into exhaustive details beyond the scope of this discussion.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-features">Key Features<a href="#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features">​</a></h2>
<ol>
<li>
<p><code>Multi-Stage Build</code>: Separates build and runtime environments to reduce image size and improve security.</p>
</li>
<li>
<p><code>Layer Caching Optimisation</code>: Uses efficient caching mechanisms for faster builds.</p>
</li>
<li>
<p><code>Security Best Practices</code>: Employs a non-root user and limited permissions in the runtime stage.</p>
</li>
<li>
<p><code>Customisable Execution</code>: Configures runtime environment variables for flexible test execution.</p>
</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dockerfile">Dockerfile<a href="#dockerfile" class="hash-link" aria-label="Direct link to Dockerfile" title="Direct link to Dockerfile">​</a></h2>
<p>Let&#x27;s create a <code>Dockerfile</code> for the project, this file will consist of a <code>multi-stage</code> build process to ensure the application is built efficiently and the final image is lean and production-ready.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stage-1-build">Stage 1 Build<a href="#stage-1-build" class="hash-link" aria-label="Direct link to Stage 1 Build" title="Direct link to Stage 1 Build">​</a></h3>
<p>Let&#x27;s start with the first <code>build</code> stage.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Step 1</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 4</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 5</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 6</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 7</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Base Image for first Build Stage</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">FROM</span><span class="token instruction"> maven:3.8.1-openjdk-17-slim </span><span class="token instruction keyword" style="color:#00009f">AS</span><span class="token instruction"> builder</span><br></span></code></pre></div></div><p>The <code>FROM</code> command specifies the base image to use for the first build stage. It pulls a lightweight version of the Maven image with OpenJDK 17 to compile the project. The <code>AS builder</code> part names this stage <code>builder</code> for use in multi-stage Docker builds, typically where application code is compiled and packaged.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Add Metadata Labels (Optional)</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">LABEL</span><span class="token instruction"> maintainer=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;Your Name &amp; Email&gt;&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">      version=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;version number&gt;&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">      description=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;Short Description&gt;&quot;</span><br></span></code></pre></div></div><p>The above <code>LABEL</code> adds metadata to the image for documentation and maintenance purposes.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Set Working Directory</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">WORKDIR</span><span class="token instruction"> /automation</span><br></span></code></pre></div></div><p>The <code>WORKDIR</code> command specifies the working directory inside the container to <code>/automation</code>. All subsequent commands, such as file copies or builds, will be executed within this directory. If the directory doesn&#x27;t exist, it will be created.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Optimise Layer Caching</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> pom.xml .</span><br></span></code></pre></div></div><p>The <code>COPY</code> command copies the <code>pom.xml</code> file to the working directory of container to leverage Docker&#x27;s layer caching.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Download Dependencies</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> mvn dependency:go-offline -B --no-transfer-progress</span><br></span></code></pre></div></div><p>The <code>RUN</code> command downloads all dependencies to reduce build time in subsequent steps unless there are changes in project source code.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Copy Project Files</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> src ./src</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> test-suites ./test-suites</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> testng.xml ./testng.xml</span><br></span></code></pre></div></div><p>The <code>COPY</code> command copies the entire <code>src</code> &amp; <code>test-suites</code> to the working directory of container. Similarly, it copies the <code>testng.xml</code> configuration file to the container. These commands ensure that the source code, test suites, and TestNG configuration are all available within the container for further processing or testing.</p><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>We are copying <code>testng.xml</code> as well so that if <code>${testSuite}</code> is not provided, the tests will still run using the default suite.</p></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Package the Application</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> mvn clean package -DskipTests -B --no-transfer-progress </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">    &amp;&amp; rm -rf ~/.m2/repository</span><br></span></code></pre></div></div><p>The <code>RUN</code> command compiles and packages the application, skipping tests for faster build and cleans up the local Maven repository to reduce image size.</p></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stage-2-build">Stage 2 Build<a href="#stage-2-build" class="hash-link" aria-label="Direct link to Stage 2 Build" title="Direct link to Stage 2 Build">​</a></h3>
<p>Let&#x27;s start with the second <code>build</code> stage.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Step 1</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 4</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 5</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 6</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 7</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Step 8</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Base Image for Runtime</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">FROM</span><span class="token instruction"> bellsoft/liberica-openjdk-alpine:17.0.7-7</span><br></span></code></pre></div></div><p>The <code>FROM</code> command specifies the base image to use for the second build stage. It pulls an lightweight Alpine-based image of BellSoft&#x27;s Liberica OpenJDK 17.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Add Metadata Labels (Optional)</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">LABEL</span><span class="token instruction"> maintainer=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;Your Name &amp; Email&gt;&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">      version=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;version number&gt;&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">      description=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;Short Description&gt;&quot;</span><br></span></code></pre></div></div><p>The above <code>LABEL</code> adds metadata to the image for documentation and maintenance purposes.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Create Non-Root User</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> addgroup -S automation &amp;&amp; adduser -S automation -G automation</span><br></span></code></pre></div></div><p>The <code>RUN</code> command creates a system group named <code>automation</code> and adds a system user with the same name as a member of that group. As a security best practice, always create a <code>non-root</code> user to ensure the application runs with limited privileges, enhancing the container&#x27;s security.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Set Working Directory</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">WORKDIR</span><span class="token instruction"> /automation</span><br></span></code></pre></div></div><p>The <code>WORKDIR</code> command specifies the working directory inside the container to <code>/automation</code>. All subsequent commands, such as file copies or builds, will be executed within this directory. If the directory doesn&#x27;t exist, it will be created.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Create Directories and Set Permissions</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> mkdir -p /automation/logs /automation/test-output </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">    &amp;&amp; chown -R automation:automation /automation/logs /automation/test-output</span><br></span></code></pre></div></div><p>The <code>RUN</code> command creates two directories (<code>logs</code> and <code>test-output</code>) within the <code>/automation</code> folder and sets their ownership to the automation user and group. The <code>-p</code> flag ensures parent directories are created if they don&#x27;t exist, while <code>chown -R</code> recursively assigns ownership permissions, establishing proper access rights for the application to write logs and test results.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Copy Files from Builder Stage</p><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:#36acaa">--from</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">builder</span><span class="token instruction options"> </span><span class="token instruction options property" style="color:#36acaa">--chown</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">automation:automation</span><span class="token instruction"> /automation/target/tafs/libs/ ./libs/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:#36acaa">--from</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">builder</span><span class="token instruction options"> </span><span class="token instruction options property" style="color:#36acaa">--chown</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">automation:automation</span><span class="token instruction"> /automation/test-suites/ ./test-suites/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:#36acaa">--from</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">builder</span><span class="token instruction options"> </span><span class="token instruction options property" style="color:#36acaa">--chown</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">automation:automation</span><span class="token instruction"> /automation/testng.xml ./testng.xml</span><br></span></code></pre></div></div><p>These <code>COPY</code> commands transfer specific files and directories from the <code>builder</code> stage to the current stage in the Docker image. The first command copies the application libraries, the second copies test suites and the third copies the TestNG configuration file. By using <code>--chown=automation:automation</code>, all copied files are immediately assigned to the automation user and group, ensuring proper access permissions for the application to execute tests.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Define Environment Variables (Optional)</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ENV </span><span class="token assign-left variable" style="color:#36acaa">ENVIRONMENT</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">REMOTE </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token assign-left variable" style="color:#36acaa">BROWSER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">CHROME </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token assign-left variable" style="color:#36acaa">GRID_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">http://</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">selenium-grid-host-or-ip</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">port</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token assign-left variable" style="color:#36acaa">RECORD_VIDEO</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token assign-left variable" style="color:#36acaa">HEADLESS</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token assign-left variable" style="color:#36acaa">TEST_SUITE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Master.xml</span><br></span></code></pre></div></div><p>The <code>ENV</code> configuration sets default environment variables for running Selenium tests in a remote environment. It specifies the <code>browser</code> to be used as <code>Chrome</code>, the <code>Selenium Grid URL</code> for remote execution, and toggles options like <code>video recording</code> and <code>headless mode</code>. The <code>test suite</code> to execute is defined as <code>Master.xml</code>. This setup ensures flexibility and control over test execution parameters.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Set the Entry Point</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;sh&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;-c&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;java -cp &#x27;libs/*&#x27; -Denv=</span><span class="token string variable" style="color:#36acaa">${ENVIRONMENT}</span><span class="token string" style="color:#e3116c"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    -Dbrowser=</span><span class="token string variable" style="color:#36acaa">${BROWSER}</span><span class="token string" style="color:#e3116c"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    -DremoteSeleniumGridUrl=</span><span class="token string variable" style="color:#36acaa">${GRID_URL}</span><span class="token string" style="color:#e3116c"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    -DrecordVideo=</span><span class="token string variable" style="color:#36acaa">${RECORD_VIDEO}</span><span class="token string" style="color:#e3116c"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    -Dheadless=</span><span class="token string variable" style="color:#36acaa">${HEADLESS}</span><span class="token string" style="color:#e3116c"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    org.testng.TestNG test-suites/</span><span class="token string variable" style="color:#36acaa">${TEST_SUITE}</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div><p>The <code>ENTRYPOINT</code> command sets the entry point for the container, specifying the command that runs when the container starts. It executes a Java command to run TestNG, specifying the classpath (<code>libs/*</code>), environment variables (like <code>${ENVIRONMENT}</code>, <code>${BROWSER}</code>, and others), and the test suite to execute from the <code>test-suites/</code> directory. This allows dynamic configuration of the test environment using variables passed at runtime.</p></div></div></div>
<hr>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Below is the final Dockerfile that uses multi-stage builds with Maven and OpenJDK to ensure an optimised and secure environment for running test suites.</p></div></div>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Use the Maven image to compile the project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">FROM</span><span class="token instruction"> maven:3.8.1-openjdk-17-slim </span><span class="token instruction keyword" style="color:#00009f">AS</span><span class="token instruction"> builder</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Add metadata labels</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">LABEL</span><span class="token instruction"> maintainer=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;Your Name &amp; Email&gt;&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">      version=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;version number&gt;&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">      description=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;Short Description&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Set the working directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">WORKDIR</span><span class="token instruction"> /automation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Optimize layer caching by copying only pom.xml first</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> pom.xml .</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Use specific maven goals and options for better performance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> mvn dependency:go-offline -B --no-transfer-progress</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Copy necessary project files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> src ./src</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> test-suites ./test-suites</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> testng.xml ./testng.xml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Package the application</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> mvn clean package -DskipTests -B --no-transfer-progress &amp;&amp; rm -rf ~/.m2/repository</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Use an openjdk image from bellsoft</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">FROM</span><span class="token instruction"> bellsoft/liberica-openjdk-alpine:17.0.7-7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Add metadata labels</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">LABEL</span><span class="token instruction"> maintainer=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;Your Name &amp; Email&gt;&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">      version=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;version number&gt;&quot;</span><span class="token instruction"> </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">      description=</span><span class="token instruction string" style="color:#e3116c">&quot;&lt;Short Description&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create non-root user for security</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> addgroup -S automation &amp;&amp; adduser -S automation -G automation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Set the working directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">WORKDIR</span><span class="token instruction"> /automation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create logs and test-output directories and set permissions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> mkdir -p /automation/logs /automation/test-output &amp;&amp; chown -R automation:automation /automation/logs /automation/test-output</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Copy only required files from builder stage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:#36acaa">--from</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">builder</span><span class="token instruction options"> </span><span class="token instruction options property" style="color:#36acaa">--chown</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">automation:automation</span><span class="token instruction"> /automation/target/tafs/libs/ ./libs/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:#36acaa">--from</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">builder</span><span class="token instruction options"> </span><span class="token instruction options property" style="color:#36acaa">--chown</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">automation:automation</span><span class="token instruction"> /automation/test-suites/ ./test-suites/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:#36acaa">--from</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">builder</span><span class="token instruction options"> </span><span class="token instruction options property" style="color:#36acaa">--chown</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">automation:automation</span><span class="token instruction"> /automation/testng.xml ./testng.xml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define environment variables with defaults</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">ENV</span><span class="token instruction"> ENVIRONMENT=REMOTE </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">    BROWSER=CHROME </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">    GRID_URL=http://&lt;selenium-grid-host-or-ip&gt;:&lt;port&gt; </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">    RECORD_VIDEO=false </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">    HEADLESS=false </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">    TEST_SUITE=Master.xml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Set the entry point</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">ENTRYPOINT</span><span class="token instruction"> [</span><span class="token instruction string" style="color:#e3116c">&quot;sh&quot;</span><span class="token instruction">, </span><span class="token instruction string" style="color:#e3116c">&quot;-c&quot;</span><span class="token instruction">, </span><span class="token instruction string" style="color:#e3116c">&quot;java -cp &#x27;libs/*&#x27; -Denv=${ENVIRONMENT} -Dbrowser=${BROWSER} -DremoteSeleniumGridUrl=${GRID_URL} -DrecordVideo=${RECORD_VIDEO} -Dheadless=${HEADLESS} org.testng.TestNG test-suites/${TEST_SUITE}&quot;</span><span class="token instruction">]</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables">Environment Variables<a href="#environment-variables" class="hash-link" aria-label="Direct link to Environment Variables" title="Direct link to Environment Variables">​</a></h2>
<table><thead><tr><th>Variable</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td><code>ENVIRONMENT</code></td><td><code>REMOTE </code></td><td>Test environment (e.g., LOCAL or REMOTE).</td></tr><tr><td><code>BROWSER</code></td><td><code>CHROME</code></td><td>Browser for test execution.</td></tr><tr><td><code>GRID_URL</code></td><td><code>http://&lt;selenium-grid-host-or-ip&gt;:&lt;port&gt;</code></td><td>Selenium Grid URL for remote execution.</td></tr><tr><td><code>RECORD_VIDEO</code></td><td><code>false</code></td><td>Enable/disable video recording.</td></tr><tr><td><code>HEADLESS</code></td><td><code>false</code></td><td>Run browser in headless mode.</td></tr><tr><td><code>TEST_SUITE</code></td><td><code>Master.xml</code></td><td>TestNG suite file to execute.</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="directory-structure">Directory Structure<a href="#directory-structure" class="hash-link" aria-label="Direct link to Directory Structure" title="Direct link to Directory Structure">​</a></h2>
<p>The container maintains the following structure:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/automation/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── libs/          </span><span class="token comment" style="color:#999988;font-style:italic"># Application dependencies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── test-suites/   </span><span class="token comment" style="color:#999988;font-style:italic"># TestNG suite files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── testng.xml     </span><span class="token comment" style="color:#999988;font-style:italic"># TestNG configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── logs/          </span><span class="token comment" style="color:#999988;font-style:italic"># Test execution logs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── test-output/   </span><span class="token comment" style="color:#999988;font-style:italic"># Test results and reports</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-docker-image">Build Docker Image<a href="#build-docker-image" class="hash-link" aria-label="Direct link to Build Docker Image" title="Direct link to Build Docker Image">​</a></h2>
<p>Next, to run the tests inside the container, we need to build the Docker image first.</p>
<p>Let&#x27;s run the following command to build the Docker image.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:#36acaa">-t</span><span class="token plain"> tafs-automation:1.0 </span><span class="token builtin class-name">.</span><br></span></code></pre></div></div>
<p>The above command builds a Docker image from the Dockerfile located in the current directory (<code>.</code>). The <code>-t </code>flag tags the image with the name <code>tafs-automation</code> and assigns the version <code>1.0</code>, making it easier to reference and manage the image later.</p>
<p>Below is the command in action.</p>
<img src="/automatiq/assets/images/build-4d8c02984068e6e33d25e510369a5888.avif" alt="build">
<br>
<br>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Run command <code>docker image ls</code> to confirm the image is built successfully.</p></div></div>
<img src="/automatiq/assets/images/docker-image-0f273340e8afd8ad27569dc975c23494.avif" alt="dkrimg">
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-tests">Run Tests<a href="#run-tests" class="hash-link" aria-label="Direct link to Run Tests" title="Direct link to Run Tests">​</a></h2>
<p>We are all set to execute the tests inside Docker container using the image we built in previous step.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> tafs </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ENVIRONMENT</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">REMOTE </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">BROWSER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">CHROME </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">GRID_URL</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">http://</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">selenium-grid-host-or-ip</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">port</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">RECORD_VIDEO</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">HEADLESS</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">false </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">TEST_SUITE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">LoginPage.xml tafs-automation:1.0</span><br></span></code></pre></div></div>
<p>The above command launches a new container named <code>tafs</code> from the <code>tafs-automation:1.0</code> image. The <code>-d</code> flag ensures the container starts in detached mode and <code>--rm</code> flag ensures the container is automatically removed after it stops running. Various environment variables are passed using flag <code>-e</code> to configure the test execution: <code>ENVIRONMENT</code> is set to <code>REMOTE</code>, <code>BROWSER</code> to <code>CHROME</code>, <code>GRID_URL</code> to <code>http://&lt;selenium-grid-host-or-ip&gt;:&lt;port&gt;</code>, and options for video recording and headless mode are specified as <code>false</code>. Finally, <code>TEST_SUITE</code> is set to <code>LoginPage.xml</code>, indicating which test suite to execute.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Run command <code>docker container ls -a</code> to confirm the container is up and running.</p></div></div>
<img src="/automatiq/assets/images/docker-container-5cdd676ddd6bd09742f23111057beca7.avif" alt="docker-container">
<br>
<br>
<img src="/automatiq/assets/images/live-preview-37c039de211d4affb5fd3552b1cf1713.avif" alt="live-preview">
<br>
<br>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>To configure a Selenium Grid on your system to execute automation scripts, please refer to this <a href="/automatiq/blog/docker">section</a> of my another article, which demonstrates how to set up a Selenium Grid on local or remote systems.</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>In this article, we have effectively incorporated Docker into our testing workflow by developing a Dockerfile and building a Docker image. This method enables us to execute tests in a containerised environment, ensuring consistency and reliability across various systems. By following the steps detailed, we have produced a lightweight and production-ready Docker image capable of running our test suites with multiple configurations. This setup not only simplifies our testing process but also improves scalability and maintainability, making it more manageable to execute tests across different environments.</p>
<p>The source code is available on <a href="https://github.com/harryvn/selenium-automation-framework-java" target="_blank" rel="noopener noreferrer">GitHub</a>. If you find the framework helpful, be sure to star the repository to show your support!</p>
<p>In the next <code>article</code>, we will advance the project by introducing <code>Jenkins</code> CI/CD tool to configure various stages of the Docker process, including executing automation scripts as part of the pipeline.</p>
<p>If you find this article helpful or have any suggestions, reach out to me on <a href="https://www.linkedin.com/in/harryvn/" target="_blank" rel="noopener noreferrer">LinkedIn</a>.</p>
<p>Thank you and keep learning!</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<p><a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">Docker</a></p>
<p><a href="https://www.selenium.dev/" target="_blank" rel="noopener noreferrer">Selenium</a></p>
<p><a href="https://testng.org/" target="_blank" rel="noopener noreferrer">TestNG</a></p>
<p><a href="https://maven.apache.org/guides/index.html" target="_blank" rel="noopener noreferrer">Maven</a></p>
<p><a href="https://openjdk.org/" target="_blank" rel="noopener noreferrer">OpenJDK</a></p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" title="Selenium tag description" class="tag_zVej tagRegular_sFm0" href="/automatiq/blog/tags/selenium">Selenium</a></li><li class="tag_QGVx"><a rel="tag" title="Java tag description" class="tag_zVej tagRegular_sFm0" href="/automatiq/blog/tags/java">Java</a></li><li class="tag_QGVx"><a rel="tag" title="TestNG tag description" class="tag_zVej tagRegular_sFm0" href="/automatiq/blog/tags/testng">TestNG</a></li><li class="tag_QGVx"><a rel="tag" title="Maven tag description" class="tag_zVej tagRegular_sFm0" href="/automatiq/blog/tags/maven">Maven</a></li><li class="tag_QGVx"><a rel="tag" title="Docker tag description" class="tag_zVej tagRegular_sFm0" href="/automatiq/blog/tags/docker">Docker</a></li><li class="tag_QGVx"><a rel="tag" title="OpenJDK tag description" class="tag_zVej tagRegular_sFm0" href="/automatiq/blog/tags/openjdk">OpenJDK</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/automatiq/blog/packaging"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Part 2 - Packaging Framework</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#key-features" class="table-of-contents__link toc-highlight">Key Features</a></li><li><a href="#dockerfile" class="table-of-contents__link toc-highlight">Dockerfile</a><ul><li><a href="#stage-1-build" class="table-of-contents__link toc-highlight">Stage 1 Build</a></li><li><a href="#stage-2-build" class="table-of-contents__link toc-highlight">Stage 2 Build</a></li></ul></li><li><a href="#environment-variables" class="table-of-contents__link toc-highlight">Environment Variables</a></li><li><a href="#directory-structure" class="table-of-contents__link toc-highlight">Directory Structure</a></li><li><a href="#build-docker-image" class="table-of-contents__link toc-highlight">Build Docker Image</a></li><li><a href="#run-tests" class="table-of-contents__link toc-highlight">Run Tests</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/automatiq/docs/welcome">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/automatiq/projects">Showcase</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/harryvn" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/harryvn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/automatiq/blog">Blogs</a></li><li class="footer__item"><a class="footer__link-item" href="/automatiq/blog/docker">Docker</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 AutoMatiQ. All rights reserved.</div></div></div></footer></div>
</body>
</html>